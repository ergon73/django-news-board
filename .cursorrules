# .cursorrules — DJ03 Django (Windows 11) — News + Author

## Environment
- **OS:** Windows 11 (PowerShell as default shell)
- **Python:** Use local venv at `.venv/` in repo root
- **Project:** Existing Django project from DJ03 lesson

## Primary instruction
If `genai-readme.md` exists in repo root — follow it as the single source of truth.

## Hard constraints
- **DO NOT** create a new Django project (`django-admin startproject` is forbidden)
- **DO NOT** rename apps, folders, templates, or the model `News_post`
- **DO NOT** add third-party dependencies
- **DO NOT** change `settings.py` or `urls.py` unless explicitly required
- Touch only files specified in the task

## Django rules
- For user relations: use `settings.AUTH_USER_MODEL` (not direct `User` import)
- Avoid interactive migration prompts: use `null=True, blank=True` for new ForeignKey fields
- Keep admin simple: `admin.site.register(Model)` is sufficient for this task
- Templates: keep base template reference as `main/layoute.html` (spelling is intentional)
- Use `|linebreaks` filter for multi-line text display
- Use `|default:"—"` for optional fields that might be None

## File hygiene
- Never commit: `.venv/`, `__pycache__/`, `db.sqlite3`, `*.pyc`
- Never expose `SECRET_KEY` in commits
- Do not "clean up" or refactor unrelated code

## Verification commands
Run from repo root in PowerShell:
```powershell
python manage.py check
python manage.py makemigrations news
python manage.py migrate
python manage.py runserver
```

## Common warnings to ignore
- `STATICFILES_DIRS directory does not exist` — create the missing folder, don't modify settings
